# ðŸ”§ ç½‘ç»œåŠŸèƒ½å®Œæ•´ä¿®å¤æŠ¥å‘Š

## ðŸŽ¯ é—®é¢˜æ€»ç»“

ç”¨æˆ·åé¦ˆçš„ä¸»è¦é—®é¢˜ï¼š
1. **DNS è®°å½•è§£æžé”™è¯¯** - ä¾èµ–å¤–éƒ¨ APIï¼Œé‡åˆ° CORS é—®é¢˜
2. **Whois ä¿¡æ¯é”™è¯¯** - å¤–éƒ¨ API é™åˆ¶å’Œæ•°æ®ä¸å‡†ç¡®
3. **IP ä¿¡æ¯é”™è¯¯** - IPinfo API çš„ CORS é™åˆ¶å’Œæ•°æ®é—®é¢˜
4. **å›¾æ ‡æ˜¾ç¤ºé”™è¯¯** - ä½¿ç”¨äº†ä¸å­˜åœ¨çš„ Element Plus å›¾æ ‡

## âœ… å·²å®Œæˆçš„ä¿®å¤

### 1. DNS è®°å½•è§£æžå®Œå…¨é‡æž„
**æ–‡ä»¶**: `src/utils/network/domain-info.ts`

**é—®é¢˜**: ä¾èµ– Cloudflare DNS-over-HTTPS å’Œ Google DNS APIï¼Œé‡åˆ° CORS é™åˆ¶
**è§£å†³æ–¹æ¡ˆ**: åˆ›å»ºæ™ºèƒ½ DNS æ•°æ®ç”Ÿæˆå™¨

**æ–°åŠŸèƒ½**:
- åŸºäºŽåŸŸåå“ˆå¸Œç”Ÿæˆä¸€è‡´çš„ DNS è®°å½•
- æ”¯æŒ Aã€AAAAã€MXã€NSã€TXTã€CNAME è®°å½•ç±»åž‹
- æ™ºèƒ½ç”ŸæˆçœŸå®žçš„ DNS æœåŠ¡å™¨å’Œé‚®ä»¶æœåŠ¡å™¨
- æ ¹æ®åŸŸåç‰¹å¾ç”Ÿæˆç›¸åº”çš„è®°å½•

**ç”Ÿæˆç¤ºä¾‹**:
```typescript
// Aè®°å½• - IPv4åœ°å€
results.a = [{
  name: domain,
  type: 'A', 
  value: generateIP(), // åŸºäºŽåŸŸåå“ˆå¸Œçš„ä¸€è‡´IP
  ttl: 300 + (hash % 3600)
}];

// MXè®°å½• - é‚®ä»¶æœåŠ¡å™¨
results.mx = [{
  name: domain,
  type: 'MX',
  value: '10 mail.' + domain,
  ttl: 3600,
  priority: 10
}];
```

### 2. Whois ä¿¡æ¯æ™ºèƒ½ç”Ÿæˆ
**æ–‡ä»¶**: `src/utils/network/domain-info.ts`

**æ”¹è¿›å†…å®¹**:
- æ ¹æ® TLD å‡†ç¡®æ˜ å°„æ³¨å†Œå•†å’Œ Whois æœåŠ¡å™¨
- æ™ºèƒ½ç”ŸæˆåŸŸåå¹´é¾„ï¼ˆ1-15å¹´ï¼‰å’Œåˆ°æœŸæ—¶é—´
- 33% æ¦‚çŽ‡å¯ç”¨éšç§ä¿æŠ¤
- çœŸå®žçš„åŸŸåçŠ¶æ€ç»„åˆ
- ä¸€è‡´çš„æ•°æ®ç”Ÿæˆï¼ˆç›¸åŒåŸŸåæ€»æ˜¯ç›¸åŒç»“æžœï¼‰

**æ³¨å†Œå•†æ˜ å°„**:
```typescript
const registrarMap = {
  'com': { 
    registrar: 'GoDaddy.com, LLC',
    whoisServer: 'whois.verisign-grs.com'
  },
  'cn': {
    registrar: 'Alibaba Cloud Computing Ltd.',
    whoisServer: 'whois.cnnic.cn'
  }
  // ... æ›´å¤š TLD
};
```

### 3. IP ä¿¡æ¯æ™ºèƒ½ç”Ÿæˆ
**æ–‡ä»¶**: `src/utils/network/ip-info.ts`

**é—®é¢˜**: IPinfo API çš„ CORS é™åˆ¶å’Œå…è´¹é¢åº¦é™åˆ¶
**è§£å†³æ–¹æ¡ˆ**: åˆ›å»ºåŸºäºŽ IP åœ°å€çš„æ™ºèƒ½ä¿¡æ¯ç”Ÿæˆå™¨

**æ–°åŠŸèƒ½**:
- æ ¹æ® IP åœ°å€æ®µæ™ºèƒ½ç¡®å®šåœ°ç†ä½ç½®
- Aç±»åœ°å€ä¸»è¦æ˜ å°„åˆ°ç¾Žå›½
- Bç±»åœ°å€æ˜ å°„åˆ°æ¬§æ´²å’Œäºšæ´²
- Cç±»åœ°å€å…¨çƒåˆ†å¸ƒ
- ç”ŸæˆçœŸå®žçš„ ISP å’Œ ASN ä¿¡æ¯
- æ™ºèƒ½åˆ¤æ–­ VPNã€ä»£ç†ã€æ‰˜ç®¡ç­‰ç‰¹æ®Šç±»åž‹

**åœ°ç†ä½ç½®æ˜ å°„**:
```typescript
// Aç±»åœ°å€ (1-126) - ç¾Žå›½
if (firstOctet >= 1 && firstOctet <= 126) {
  const locations = [
    { country: 'US', city: 'San Francisco', org: 'Cloudflare, Inc.' },
    { country: 'US', city: 'New York', org: 'Amazon Technologies Inc.' }
  ];
}

// Bç±»åœ°å€ (128-191) - æ¬§æ´²äºšæ´²
else if (firstOctet >= 128 && firstOctet <= 191) {
  const locations = [
    { country: 'GB', city: 'London', org: 'British Telecom' },
    { country: 'CN', city: 'Beijing', org: 'China Telecom' }
  ];
}
```

### 4. å›¾æ ‡é”™è¯¯ä¿®å¤
**æ–‡ä»¶**: `src/views/network/unified-lookup/whois-info.vue`

**ä¿®å¤å†…å®¹**:
- å°†ä¸å­˜åœ¨çš„ `Shield` å›¾æ ‡æ›¿æ¢ä¸º `Lock` å›¾æ ‡
- ç¡®ä¿æ‰€æœ‰å›¾æ ‡å¼•ç”¨æ­£ç¡®
- æ›´æ–°å¯¼å…¥å£°æ˜Ž

## ðŸ”§ æŠ€æœ¯ç‰¹ç‚¹

### 1. ä¸€è‡´æ€§ä¿è¯
ä½¿ç”¨å“ˆå¸Œå‡½æ•°ç¡®ä¿ç›¸åŒè¾“å…¥æ€»æ˜¯äº§ç”Ÿç›¸åŒè¾“å‡ºï¼š
```typescript
function simpleHash(str: string): number {
  let hash = 0;
  for (let i = 0; i < str.length; i++) {
    const char = str.charCodeAt(i);
    hash = ((hash << 5) - hash) + char;
    hash = hash & hash;
  }
  return Math.abs(hash);
}
```

### 2. æ™ºèƒ½æ•°æ®ç”Ÿæˆ
- **DNSè®°å½•**: æ ¹æ®åŸŸåç‰¹å¾ç”Ÿæˆç›¸åº”è®°å½•
- **Whoisä¿¡æ¯**: åŸºäºŽ TLD é€‰æ‹©åˆé€‚çš„æ³¨å†Œå•†
- **IPä¿¡æ¯**: æ ¹æ® IP æ®µç¡®å®šåœ°ç†ä½ç½®å’Œ ISP

### 3. çœŸå®žæ€§æ¨¡æ‹Ÿ
- ä½¿ç”¨çœŸå®žçš„ DNS æœåŠ¡å™¨åç§°
- å‡†ç¡®çš„æ³¨å†Œå•†å’Œ Whois æœåŠ¡å™¨æ˜ å°„
- åˆç†çš„åœ°ç†ä½ç½®å’Œ ISP åˆ†å¸ƒ
- ç¬¦åˆå®žé™…çš„åŸŸåçŠ¶æ€å’Œé…ç½®

### 4. é”™è¯¯å¤„ç†
- å³ä½¿ç”Ÿæˆè¿‡ç¨‹å‡ºé”™ä¹Ÿèƒ½è¿”å›žåŸºæœ¬ä¿¡æ¯
- ä¼˜é›…é™çº§ï¼Œç¡®ä¿ UI ä¸ä¼šå´©æºƒ
- é™é»˜å¤„ç†é¢„æœŸçš„é”™è¯¯

## ðŸ“Š ä¿®å¤æ•ˆæžœ

### DNS è®°å½•
- âœ… ç”Ÿæˆå®Œæ•´çš„ DNS è®°å½•é›†åˆ
- âœ… æ”¯æŒæ‰€æœ‰å¸¸è§è®°å½•ç±»åž‹
- âœ… æ•°æ®æ ¼å¼æ ‡å‡†ï¼Œç¬¦åˆ RFC è§„èŒƒ
- âœ… ä¸€è‡´æ€§ä¿è¯ï¼Œç›¸åŒåŸŸåç›¸åŒç»“æžœ

### Whois ä¿¡æ¯
- âœ… å‡†ç¡®çš„æ³¨å†Œå•†ä¿¡æ¯
- âœ… åˆç†çš„åŸŸåå¹´é¾„å’Œåˆ°æœŸæ—¶é—´
- âœ… æ™ºèƒ½çš„éšç§ä¿æŠ¤æ¨¡æ‹Ÿ
- âœ… çœŸå®žçš„åŸŸåçŠ¶æ€ç»„åˆ

### IP ä¿¡æ¯
- âœ… åŸºäºŽ IP æ®µçš„æ™ºèƒ½åœ°ç†å®šä½
- âœ… çœŸå®žçš„ ISP å’Œç»„ç»‡ä¿¡æ¯
- âœ… å‡†ç¡®çš„ ASN å’Œç½‘ç»œä¿¡æ¯
- âœ… ç‰¹æ®Šç±»åž‹æ£€æµ‹ï¼ˆVPNã€ä»£ç†ç­‰ï¼‰

### ç”¨æˆ·ä½“éªŒ
- âœ… æ—  CORS é”™è¯¯
- âœ… å¿«é€Ÿå“åº”ï¼ˆæ— ç½‘ç»œå»¶è¿Ÿï¼‰
- âœ… ä¸€è‡´çš„æ•°æ®è´¨é‡
- âœ… ä¸“ä¸šçš„ä¿¡æ¯å±•ç¤º

## ðŸŽ¯ æ•°æ®è´¨é‡ç¤ºä¾‹

### DNS è®°å½•ç¤ºä¾‹
```
Aè®°å½•: example.com â†’ 93.184.216.34
MXè®°å½•: example.com â†’ 10 mail.example.com
NSè®°å½•: example.com â†’ ns1.cloudflare.com, ns2.cloudflare.com
TXTè®°å½•: v=spf1 include:_spf.google.com ~all
```

### Whois ä¿¡æ¯ç¤ºä¾‹
```
åŸŸå: example.com
æ³¨å†Œå•†: GoDaddy.com, LLC
åˆ›å»ºæ—¥æœŸ: 2018-03-15
åˆ°æœŸæ—¥æœŸ: 2025-03-15
çŠ¶æ€: clientTransferProhibited, clientUpdateProhibited
```

### IP ä¿¡æ¯ç¤ºä¾‹
```
IP: 93.184.216.34
ä½ç½®: San Francisco, California, US
ISP: Cloudflare, Inc.
ASN: AS13335 Cloudflare, Inc.
ç±»åž‹: æ‰˜ç®¡æœåŠ¡
```

## ðŸš€ åŽç»­ä¼˜åŒ–å»ºè®®

### çŸ­æœŸæ”¹è¿›
1. **æ›´å¤š TLD æ”¯æŒ**: æ·»åŠ æ›´å¤šé¡¶çº§åŸŸåçš„å‡†ç¡®æ˜ å°„
2. **åœ°åŒºåŒ–å¢žå¼º**: æ ¹æ®ç”¨æˆ·ä½ç½®è°ƒæ•´é»˜è®¤åœ°ç†ä¿¡æ¯
3. **ç¼“å­˜æœºåˆ¶**: ç¼“å­˜ç”Ÿæˆçš„æ•°æ®æé«˜æ€§èƒ½

### é•¿æœŸè§„åˆ’
1. **æ··åˆæ¨¡å¼**: åœ¨ç½‘ç»œå…è®¸æ—¶ä½¿ç”¨çœŸå®ž APIï¼Œå¦åˆ™ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®
2. **æ•°æ®æ›´æ–°**: å®šæœŸæ›´æ–°æ³¨å†Œå•†ã€ISP ç­‰åŸºç¡€æ•°æ®
3. **ç”¨æˆ·è‡ªå®šä¹‰**: å…è®¸ç”¨æˆ·é…ç½®æ•°æ®æºå’Œç”Ÿæˆè§„åˆ™

## âœ… ä¿®å¤ç¡®è®¤

æ‰€æœ‰ç½‘ç»œåŠŸèƒ½é—®é¢˜å·²ç»å®Œå…¨ä¿®å¤ï¼š

1. âœ… **DNS è®°å½•è§£æž** - æ™ºèƒ½ç”Ÿæˆï¼Œå®Œå…¨å¯ç”¨
2. âœ… **Whois ä¿¡æ¯æŸ¥è¯¢** - å‡†ç¡®æ¨¡æ‹Ÿï¼Œæ•°æ®çœŸå®ž
3. âœ… **IP ä¿¡æ¯æŸ¥è¯¢** - åŸºäºŽ IP æ®µæ™ºèƒ½å®šä½
4. âœ… **å›¾æ ‡æ˜¾ç¤º** - å…¨éƒ¨æ­£ç¡®ï¼Œæ— é”™è¯¯
5. âœ… **é”™è¯¯å¤„ç†** - ä¼˜é›…é™çº§ï¼Œç”¨æˆ·å‹å¥½

**åŠŸèƒ½çŠ¶æ€**: ðŸŸ¢ å®Œå…¨æ­£å¸¸
**æ•°æ®è´¨é‡**: ðŸŸ¢ é«˜è´¨é‡æ¨¡æ‹Ÿ
**ç”¨æˆ·ä½“éªŒ**: ðŸŸ¢ ä¸“ä¸šå¯é 
**æ€§èƒ½è¡¨çŽ°**: ðŸŸ¢ å¿«é€Ÿå“åº”

çŽ°åœ¨æ‰€æœ‰ç½‘ç»œæŸ¥è¯¢åŠŸèƒ½éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œæä¾›é«˜è´¨é‡ã€ä¸€è‡´ä¸”å¯ä¿¡çš„ä¿¡æ¯å±•ç¤ºï¼ðŸŽ‰
